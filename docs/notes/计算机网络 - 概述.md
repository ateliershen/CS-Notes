<!-- GFM-TOC -->
* [網絡的網絡](#網絡的網絡)
* [ISP](#isp)
* [主機之間的通信方式](#主機之間的通信方式)
* [電路交換與分組交換](#電路交換與分組交換)
    * [1. 電路交換](#1-電路交換)
    * [2. 分組交換](#2-分組交換)
* [時延](#時延)
    * [1. 排隊時延](#1-排隊時延)
    * [2. 處理時延](#2-處理時延)
    * [3. 傳輸時延](#3-傳輸時延)
    * [4. 傳播時延](#4-傳播時延)
* [計算機網絡體系結構](#計算機網絡體系結構)
    * [1. 五層協議](#1-五層協議)
    * [2. OSI](#2-osi)
    * [3. TCP/IP](#3-tcpip)
    * [4. 數據在各層之間的傳遞過程](#4-數據在各層之間的傳遞過程)
<!-- GFM-TOC -->


# 網絡的網絡

網絡把主機連接起來，而互聯網是把多種不同的網絡連接起來，因此互聯網是網絡的網絡。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/network-of-networks.gif" width="450"/> </div><br>

# ISP

互聯網服務提供商 ISP 可以從互聯網管理機構獲得許多 IP 地址，同時擁有通信線路以及路由器等聯網設備，個人或機構向 ISP 繳納一定的費用就可以接入互聯網。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/72be01cd-41ae-45f7-99b9-a8d284e44dd4.png" width="500"/> </div><br>

目前的互聯網是一種多層次 ISP 結構，ISP 根據覆蓋面積的大小分為第一層 ISP、區域 ISP 和接入 ISP。互聯網交換點 IXP 允許兩個 ISP 直接相連而不用經過第三個 ISP。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/3be42601-9d33-4d29-8358-a9d16453af93.png" width="500"/> </div><br>

# 主機之間的通信方式

- 客戶-服務器（C/S）：客戶是服務的請求方，服務器是服務的提供方。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/914894c2-0bc4-46b5-bef9-0316a69ef521.jpg" width="240px"> </div><br>

- 對等（P2P）：不區分客戶和服務器。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/42430e94-3137-48c0-bdb6-3cebaf9102e3.jpg" width="200px"> </div><br>

# 電路交換與分組交換

## 1. 電路交換

電路交換用於電話通信系統，兩個用戶要通信之前需要建立一條專用的物理鏈路，並且在整個通信過程中始終佔用該鏈路。由於通信的過程中不可能一直在使用傳輸線路，因此電路交換對線路的利用率很低，往往不到 10%。

## 2. 分組交換

每個分組都有首部和尾部，包含了源地址和目的地址等控制信息，在同一個傳輸線路上同時傳輸多個分組互相不會影響，因此在同一條傳輸線路上允許同時傳輸多個分組，也就是說分組交換不需要佔用傳輸線路。

在一個郵局通信系統中，郵局收到一份郵件之後，先存儲下來，然後把相同目的地的郵件一起轉發到下一個目的地，這個過程就是存儲轉發過程，分組交換也使用了存儲轉發過程。

# 時延

總時延 = 排隊時延 + 處理時延 + 傳輸時延 + 傳播時延

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/4b2ae78c-e254-44df-9e37-578e2f2bef52.jpg" width="380"/> </div><br>

## 1. 排隊時延

分組在路由器的輸入隊列和輸出隊列中排隊等待的時間，取決於網絡當前的通信量。

## 2. 處理時延

主機或路由器收到分組時進行處理所需要的時間，例如分析首部、從分組中提取數據、進行差錯檢驗或查找適當的路由等。

## 3. 傳輸時延

主機或路由器傳輸數據幀所需要的時間。

<!-- <div align="center"><img src="https://latex.codecogs.com/gif.latex?delay=\frac{l(bit)}{v(bit/s)}" class="mathjax-pic"/></div> <br> -->

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/dcdbb96c-9077-4121-aeb8-743e54ac02a4.png" width="150px"> </div><br>


其中 l 表示數據幀的長度，v 表示傳輸速率。

## 4. 傳播時延

電磁波在信道中傳播所需要花費的時間，電磁波傳播的速度接近光速。

<!-- <div align="center"><img src="https://latex.codecogs.com/gif.latex?delay=\frac{l(m)}{v(m/s)}" class="mathjax-pic"/></div> <br> -->

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/a1616dac-0e12-40b2-827d-9e3f7f0b940d.png" width="150"> </div><br>

其中 l 表示信道長度，v 表示電磁波在信道上的傳播速度。

# 計算機網絡體系結構

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/0fa6c237-a909-4e2a-a771-2c5485cd8ce0.png" width="450"/> </div><br>

## 1. 五層協議

-  **應用層** ：為特定應用程序提供數據傳輸服務，例如 HTTP、DNS 等協議。數據單位為報文。

-  **傳輸層** ：為進程提供通用數據傳輸服務。由於應用層協議很多，定義通用的傳輸層協議就可以支持不斷增多的應用層協議。運輸層包括兩種協議：傳輸控制協議 TCP，提供面向連接、可靠的數據傳輸服務，數據單位為報文段；用戶數據報協議 UDP，提供無連接、盡最大努力的數據傳輸服務，數據單位為用戶數據報。TCP 主要提供完整性服務，UDP 主要提供及時性服務。

-  **網絡層** ：為主機提供數據傳輸服務。而傳輸層協議是為主機中的進程提供數據傳輸服務。網絡層把傳輸層傳遞下來的報文段或者用戶數據報封裝成分組。

-  **數據鏈路層** ：網絡層針對的還是主機之間的數據傳輸服務，而主機之間可以有很多鏈路，鏈路層協議就是為同一鏈路的主機提供數據傳輸服務。數據鏈路層把網絡層傳下來的分組封裝成幀。

-  **物理層** ：考慮的是怎樣在傳輸媒體上傳輸數據比特流，而不是指具體的傳輸媒體。物理層的作用是儘可能屏蔽傳輸媒體和通信手段的差異，使數據鏈路層感覺不到這些差異。

## 2. OSI

其中表示層和會話層用途如下：

-  **表示層** ：數據壓縮、加密以及數據描述，這使得應用程序不必關心在各臺主機中數據內部格式不同的問題。

-  **會話層** ：建立及管理會話。

五層協議沒有表示層和會話層，而是將這些功能留給應用程序開發者處理。

## 3. TCP/IP

它只有四層，相當於五層協議中數據鏈路層和物理層合併為網絡接口層。

TCP/IP 體系結構不嚴格遵循 OSI 分層概念，應用層可能會直接使用 IP 層或者網絡接口層。

<div align="center"> <img src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/48d79be8-085b-4862-8a9d-18402eb93b31.png" width="250"/> </div><br>

## 4. 數據在各層之間的傳遞過程

在向下的過程中，需要添加下層協議所需要的首部或者尾部，而在向上的過程中不斷拆開首部和尾部。

路由器只有下面三層協議，因為路由器位於網絡核心中，不需要為進程或者應用程序提供服務，因此也就不需要傳輸層和應用層。




# 微信公眾號


更多精彩內容將發佈在微信公眾號 CyC2018 上，你也可以在公眾號後臺和我交流學習和求職相關的問題。另外，公眾號提供了該項目的 PDF 等離線閱讀版本，後臺回覆 "下載" 即可領取。公眾號也提供了一份技術面試複習大綱，不僅系統整理了面試知識點，而且標註了各個知識點的重要程度，從而幫你理清多而雜的面試知識點，後臺回覆 "大綱" 即可領取。我基本是按照這個大綱來進行復習的，對我拿到了 BAT 頭條等 Offer 起到很大的幫助。你們完全可以和我一樣根據大綱上列的知識點來進行復習，就不用看很多不重要的內容，也可以知道哪些內容很重要從而多安排一些複習時間。


<br><div align="center"><img width="320px" src="https://cs-notes-1256109796.cos.ap-guangzhou.myqcloud.com/other/公眾號海報6.png"></img></div>
